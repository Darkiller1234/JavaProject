package 끼얏호우;

import java.util.Scanner;

public class LockerMenu {
	private Scanner sc = new Scanner(System.in);
	private LockerController lc = new LockerController();
	
	
	
	public void MainMenu() {
		while(true) {
			if(lc.getUserIndex() == -1) {
				System.out.println("환영합니다.");
				System.out.println("로그인 또는 회원가입을 선택해주세요.");
				String str = sc.nextLine();
				if(str.contains("로그인")) {
					Login();
				}
				else if(str.contains("회원가입")) {
					Registor();
				}
				else if(str.contains("종료")) {
					System.out.println("종료합니다.");
					return;
				}
				else {
					System.out.println("다시 입력해주세요.");
				}
			}
			else if(lc.getUserIndex() == -2){
				
			}
			else {
				System.out.println(lc.getUser().getName() + "님, 방문해주셔서 감사합니다.");
				System.out.println(lc.getUser().getName() + "님께서 맡기신 물건의 갯수는 ");
				System.out.println("총 " + lc.getUser().getStuff().size() + "개 입니다.");
				System.out.println("무엇을 하시겠습니까?");
			}
		}
	}
	
	public void Login() {
		System.out.print("ID : ");
		String Id = sc.nextLine();
		System.out.print("Password : ");
		String Pd = sc.nextLine();
		User u = lc.Login(Id, Pd);
		if(u == null) {
			System.out.println("ID 또는 Password 가 일치하지 않습니다.");
			System.out.println();
		} else {
			System.out.println("로그인 성공.");
		}
	}
	
	public void Registor() {
		System.out.print("이름 : ");
		String name = sc.nextLine();
		System.out.print("ID : ");
		String Id = sc.nextLine();
		System.out.print("Password : ");
		String Pd = sc.nextLine();
		
		boolean b = lc.Registor(name, Id, Pd);
		if(b==true) {
			System.out.println("회원가입 성공.");
		}
	}
}
