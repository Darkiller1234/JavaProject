package f.object.ex3;

import java.util.ArrayList;
import java.util.Scanner;

public class Run {
	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		ArrayList<Object> Books = new ArrayList<>();
		int booksIndex = 0;
		while (true) {
			System.out.println("메뉴를 선택하시오.\n1. 책 등록\n2. 책 수정\n3. 책 일람\n0. 종료");
			int sys = sc.nextInt();
			sc.nextLine();
			switch(sys) {
			case 0:
				sc.close();
				return;
			case 1:
				System.out.print("책 제목을 입력하세요 : ");
				Books.add(new Book(sc.nextLine()));
				System.out.println("책 \"" + ((Book)Books.get(booksIndex)).name + "\"");
				System.out.println("정상적으로 등록되었습니다.");
				System.out.println("식별번호는 " + booksIndex++ + " 입니다.");
				break;
			case 2:
				System.out.print("책 식별번호를 입력하세요 : ");
				int bookNum = sc.nextInt();
				sc.nextLine();
				((Book) Books.get(bookNum)).info();
				System.out.println();
				System.out.println("수정할 사항을 선택하세요.\n1. 제목\n2. 저자\n3. 장르\n4. 출판사\n5. 가격\n6. 발행\n7. 재고\n8. 쪽수");
				int index = sc.nextInt();
				sc.nextLine();
				switch(index) {
				case 1:
					System.out.println("현재 제목은 " + ((Book) Books.get(bookNum)).name + "입니다.");
					System.out.println("수정하시겠습니까?(y/n)");
					switch(sc.next()) {
					case "y":
						System.out.println("제목을 입력하세요.");
						((Book) Books.get(bookNum)).name = new String(sc.nextLine());
						System.out.print("수정되었습니다 ...");
					}
				}
				break;
			case 3:
				System.out.println("식별번호로 검색하시겠습니까? (y/n)");
				switch(sc.next()) {
				case"y":
					System.out.print("식별번호를 입력하세요 : ");
					((Book) Books.get(sc.nextInt())).info();
					sc.nextLine();
					System.out.print("...");
					sc.nextLine();
					break;
				case"n":
					System.out.println("책 목록을 호출합니다.");
					for(int i = 0;i<booksIndex;i++) {
						System.out.println("제목 : " + ((Book) Books.get(i)).name);
						System.out.println("식별번호 : " + i);
						System.out.print("...");
						sc.nextLine();
					}
					break;
				}
				break;
			}
			
			System.out.println("=================================");
		}
		
	}
}
